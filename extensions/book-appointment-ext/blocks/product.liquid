{%- if block.settings.environment == 'production' -%}
  {%- assign api = 'https://book-appointment-shopify-app.herokuapp.com' -%}
{%- else -%}
  {%- assign api = 'https://52b517dcb0fd.eu.ngrok.io' -%}
{%- endif -%}

<script type="text/javascript">
  //<![CDATA[
  var Shopify = Shopify || {};
  Shopify.api = '{{api}}';
  Shopify.productId = '8006173360445';
  //]]>

  const div = document.querySelector('.form');
  div.insertAdjacentHTML('afterbegin', '<book-appointment-ext />');
</script>

{% schema %}
{
  "name": "product",
  "target": "body",
  "javascript": "main.js",
  "templates": ["product"],
  "settings": [
    {
      "label": "Environment",
      "id": "environment",
      "type": "select",
      "options": [
        {
          "label": "Development",
          "value": "development"
        },
        {
          "label": "Production",
          "value": "production"
        }
      ],
      "default": "production"
    }
  ]
}
{% endschema %}
